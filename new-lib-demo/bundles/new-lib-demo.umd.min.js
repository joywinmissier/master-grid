!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/common"),require("@angular/core"),require("exceljs"),require("file-saver"),require("@angular/platform-browser"),require("@angular/forms"),require("@angular/cdk/table"),require("@angular/material/autocomplete"),require("@angular/material/badge"),require("@angular/material/bottom-sheet"),require("@angular/material/button"),require("@angular/material/button-toggle"),require("@angular/material/card"),require("@angular/material/checkbox"),require("@angular/material/chips"),require("@angular/material/core"),require("@angular/material/datepicker"),require("@angular/material/dialog"),require("@angular/material/divider"),require("@angular/material/expansion"),require("@angular/material/form-field"),require("@angular/material/grid-list"),require("@angular/material/icon"),require("@angular/material/input"),require("@angular/material/list"),require("@angular/material/menu"),require("@angular/material/paginator"),require("@angular/material/progress-bar"),require("@angular/material/progress-spinner"),require("@angular/material/radio"),require("@angular/material/select"),require("@angular/material/sidenav"),require("@angular/material/slide-toggle"),require("@angular/material/slider"),require("@angular/material/snack-bar"),require("@angular/material/sort"),require("@angular/material/stepper"),require("@angular/material/table"),require("@angular/material/tabs"),require("@angular/material/toolbar"),require("@angular/material/tooltip"),require("rxjs/operators"),require("rxjs")):"function"==typeof define&&define.amd?define("new-lib-demo",["exports","@angular/common","@angular/core","exceljs","file-saver","@angular/platform-browser","@angular/forms","@angular/cdk/table","@angular/material/autocomplete","@angular/material/badge","@angular/material/bottom-sheet","@angular/material/button","@angular/material/button-toggle","@angular/material/card","@angular/material/checkbox","@angular/material/chips","@angular/material/core","@angular/material/datepicker","@angular/material/dialog","@angular/material/divider","@angular/material/expansion","@angular/material/form-field","@angular/material/grid-list","@angular/material/icon","@angular/material/input","@angular/material/list","@angular/material/menu","@angular/material/paginator","@angular/material/progress-bar","@angular/material/progress-spinner","@angular/material/radio","@angular/material/select","@angular/material/sidenav","@angular/material/slide-toggle","@angular/material/slider","@angular/material/snack-bar","@angular/material/sort","@angular/material/stepper","@angular/material/table","@angular/material/tabs","@angular/material/toolbar","@angular/material/tooltip","rxjs/operators","rxjs"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["new-lib-demo"]={},e.ng.common,e.ng.core,e.exceljs,e.fs,e.ng.platformBrowser,e.ng.forms,e.ng.cdk.table,e.ng.material.autocomplete,e.ng.material.badge,e.ng.material.bottomSheet,e.ng.material.button,e.ng.material.buttonToggle,e.ng.material.card,e.ng.material.checkbox,e.ng.material.chips,e.ng.material.core,e.ng.material.datepicker,e.ng.material.dialog,e.ng.material.divider,e.ng.material.expansion,e.ng.material.formField,e.ng.material.gridList,e.ng.material.icon,e.ng.material.input,e.ng.material.list,e.ng.material.menu,e.ng.material.paginator,e.ng.material.progressBar,e.ng.material.progressSpinner,e.ng.material.radio,e.ng.material.select,e.ng.material.sidenav,e.ng.material.slideToggle,e.ng.material.slider,e.ng.material.snackBar,e.ng.material.sort,e.ng.material.stepper,e.ng.material.table,e.ng.material.tabs,e.ng.material.toolbar,e.ng.material.tooltip,e.rxjs.operators,e.rxjs)}(this,(function(e,t,r,n,a,i,o,s,l,c,d,m,u,p,g,h,f,b,y,v,x,w,k,I,S,M,R,D,N,C,F,T,P,E,L,O,Y,q,z,j,V,A,H,_){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */function J(e,t,r,n){return new(r||(r=Promise))((function(a,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))}function B(e,t){var r,n,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(a=2&i[0]?n.return:i[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,i[1])).done)return a;switch(n=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,n=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],n=0}finally{r=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}Object.create;function $(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,i=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(e){a={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(a)throw a.error}}return o}function X(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat($(arguments[t]));return e}Object.create;var G=function(){function e(e){this.datePipe=e,this.dataForXSLX=[],this.dummExcelDT=[]}return e.prototype.getSeperation=function(e,t,r,n){var a=this;return void 0===t&&(t=0),void 0===r&&(r=!1),void 0===n&&(n=!1),0==t&&(this.dummExcelDT=[]),e.map((function(e){e.checked,a.dummExcelDT.push(e),e.hasOwnProperty("subitems")&&e.subitems.length>0&&a.getSeperation(e.subitems,1,r)})),this.dataForXSLX=[],this.dataForXSLX=JSON.parse(JSON.stringify(this.dummExcelDT)),r&&this.removeGargabeKeyValue(this.dataForXSLX),this.dataForXSLX},e.prototype.removeGargabeKeyValue=function(e){e.map((function(e){delete e.subitems,delete e.expansion,delete e.checked,delete e.id,delete e.parentName,delete e.parentId,delete e.hasChild}))},e.prototype.generateExcel=function(e,t,r,i){return J(this,void 0,void 0,(function(){var o,s,l,c,d,m=this;return B(this,(function(u){return o=t,s=Object.keys(i[0]).slice(0,-2),l=new n.Workbook,c=l.addWorksheet(r),c.addRow([o]).font={name:"Comic Sans MS",family:4,size:16,underline:"double",bold:!0},c.addRow([]),c.addRow(["Date : "+this.datePipe.transform(new Date,"medium")]),c.mergeCells("A1:D2"),c.addRow([]),c.addRow(s).eachCell((function(e,t){e.font={color:{argb:"ffffff"}},e.fill={type:"pattern",pattern:"solid",fgColor:{argb:"460073"}},e.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}})),e.forEach((function(e,t){if(i[t].isParent){c.addRow([]);var r=e.slice(0,-2);c.addRow(r).getCell(1).font={bold:!0}}else{var n=e.slice(0,-2);c.addRow(n).getCell(1).alignment={indent:m.dummExcelDT[t].index}}})),c.getColumn(1).width=60,c.getColumn(3).width=30,c.getColumn(4).width=30,c.addRow([]),(d=c.addRow(["Report Generated Using Master-Grid Angular Library"])).getCell(1).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFCCFFE5"}},d.getCell(1).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},c.mergeCells("A"+d.number+":F"+d.number),l.xlsx.writeBuffer().then((function(e){var t=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});a.saveAs(t,"Profit Loss.xlsx")})),[2]}))}))},e}();G.ɵprov=r.ɵɵdefineInjectable({factory:function(){return new G(r.ɵɵinject(t.DatePipe))},token:G,providedIn:"root"}),G.decorators=[{type:r.Injectable,args:[{providedIn:"root"}]}],G.ctorParameters=function(){return[{type:t.DatePipe}]};var U=function(){function e(){}return e.prototype.ngOnInit=function(){},e}();U.decorators=[{type:r.Component,args:[{selector:"lib-new-lib-demo",template:"\n    <p>\n      new-lib-demo works!\n    </p>\n  "}]}],U.ctorParameters=function(){return[]};var K=function(){function e(e){this.libService=e,this.tableItems=[],this.headerName="",this.notifyDataChange=new r.EventEmitter,this.duration=[],this.rowHeader=[],this.sampleRow=[],this.columnName="",this.orderType="",this.str="",this.clickedYear="",this.clickedName="",this.previousValue="",this.count=0,this.deepSortRange=!1,this.someData=[],this.selectedYear=[],this.exportingItems=[],this.flattenObject=[],this.dataForExcelSheet=[],this.priceRangeData=[],this.priceRange=[{min:0,max:1e3,range:"0 - 1000"},{min:1001,max:5e3,range:"1001 - 5000"},{min:5001,max:1e4,range:"5001 - 10000"},{min:10001,max:"unlimited",range:"Above 10000"}]}return e.prototype.ngOnInit=function(){this.manipulateData(this.tableItems),console.log(this.tableItems),this.dynamicYears(this.numberOfDuration),this.tempData=X(this.tableItems)},e.prototype.dynamicYears=function(e){for(var t=0;t<e;t++)this.duration.push(t+1);for(t=0;t<e;t++)this.sampleRow.push("y"+(t+1)),this.rowHeader.push(this.headerName+" "+(t+1))},e.prototype.manipulateData=function(e,t,r){var n=this;void 0===t&&(t=1),e.map((function(e){if(e.expansion=!1,e.checked=!1,e.index=t,e.isParent=1==t,e.id=1==t?e.name.charAt(0)+t:r.name.charAt(0)+t,e.parentName=1!=t?r.name:"",e.parentId=1!=t?r.id:"",0==e.hasOwnProperty("subitems")&&(e.hasChild=!1),e.hasOwnProperty("subitems")){var a;a=t+1,e.subitems.length>0?e.hasChild=!0:e.hasChild=!1,e.subitems.length>0&&n.manipulateData(e.subitems,a,e)}}))},e.prototype.expandRow=function(e){var t;(null===(t=null==e?void 0:e.subitems)||void 0===t?void 0:t.length)>0&&(e.expansion=!e.expansion),event.stopPropagation()},e.prototype.getSortOrderDetails=function(e){console.log("Event",e),this.columnName=e.property,this.orderType=e.order},e.prototype.restFilter=function(){event.stopPropagation(),this.orderType="",this.columnName="",this.tableItems=[],this.tableItems=X(this.tempData)},e.prototype.resetDropdown=function(e){this.selectedValue=void 0,this.rangeSelection="",this.minAmountRange=void 0,this.maxAmountRange=void 0,e.stopPropagation()},e.prototype.editData=function(e,t,r,n){event.stopPropagation(),console.log(r,t),""!==this.previousValue&&(console.log("PV",this.previousIndex,this.previousValue,this.previousList),this.previousList["y"+this.previousIndex]=this.previousValue,this.previousValue=""),this.previousValue=e,this.clickedInput=r,this.clickedYear="y"+r,this.clickedName=n,this.previousIndex=r,this.previousList=t},e.prototype.closeEdit=function(e,t){event.stopPropagation(),this.clickedYear="",this.clickedName="",""!==this.previousValue&&(e["y"+t]=this.previousValue),console.log(this.tableItems)},e.prototype.modifyData=function(e,t){event.stopPropagation(),this.clickedYear="",this.clickedName="";var r=JSON.parse(JSON.stringify(e));r["y"+t]=this.previousValue;var n={editedRow:r,editedData:this.changedData,editedYear:"y"+t,previousData:this.previousValue};this.notifyDataChange.emit(n),this.previousValue=""},e.prototype.exportSelect=function(e,t){var r=this;if(console.log("Check",e),e.isParent){if(void 0!==e.subitems&&0==e.subitems.length)return;e.checked=!e.checked,e.hasOwnProperty("subitems")&&this.exportSelect(e.subitems,t)}else e.length>0?(e.forEach((function(e){return e.checked=t})),e.map((function(e){e.hasOwnProperty("subitems")&&r.exportSelect(e.subitems,t)}))):(e.checked=!e.checked,e.hasOwnProperty("subitems")&&this.exportSelect(e.subitems,t));event.stopPropagation()},e.prototype.exportData=function(){var e=this;this.exportingItems=[],this.flattenObject=[],this.someData=[],this.dataForExcelSheet=[],this.filterJson.rowSelection&&this.tableItems.map((function(t){t.checked&&e.exportingItems.push(t)})),this.flattenObject=this.filterJson.rowSelection?this.libService.getSeperation(this.exportingItems,0,!0,!0):this.libService.getSeperation(this.tableItems,0,!0),this.flattenObject.map((function(t){e.str="",e.str+='"Category" :"'+t.name+'",';for(var r=1;r<=e.numberOfDuration;r++)e.str+='"Year '+r+'" :'+t["y"+r]+",";e.str+='"Total" :'+t.total+',"isParent" : '+t.isParent+',"index" : '+t.index;var n="{"+e.str+"}";e.someData.push(JSON.parse(n))})),this.getExcelRowValues(this.someData),this.libService.generateExcel(this.dataForExcelSheet,"Profit Loss Report","Profit Loss View",this.someData)},e.prototype.getExcelRowValues=function(e){var t=this;e.map((function(e){t.dataForExcelSheet.push(Object.values(e))}))},e.prototype.someComplete=function(e){var t=void 0!==e.subitems&&e.subitems.every((function(e){return e.checked}));if(void 0!==e.subitems)return 0!=e.subitems.length&&(e.subitems.filter((function(e){return e.checked})).length>0&&!t)},e.prototype.stopFocus=function(){event.stopPropagation()},e.prototype.onSearchChange=function(e,t){event.stopPropagation(),this.changedData=e},e.prototype.resetClick=function(){event.stopPropagation()},e.prototype.getUpdatedTotal=function(e,t){var r=0;return this.selectedYear.map((function(e){r+=Number(t[e])})),this.updatedTotal=Number(e)-Number(r),this.updatedTotal},e.prototype.valueChange=function(e,t,r){if(this.selectedYear.length>0)if(this.selectedYear.includes(this.sampleRow[r])){var n=this.selectedYear.indexOf(this.sampleRow[r]);this.selectedYear.splice(n,1)}else this.selectedYear.push(this.sampleRow[r]);else this.selectedYear.push(this.sampleRow[r]);this.selectedYear.includes(this.selectedValue)&&(this.selectedValue=void 0,this.minAmountRange=void 0,this.maxAmountRange=void 0,this.rangeSelection="")},e.prototype.priceFilter=function(e,t,r){this.minAmountRange=e,this.maxAmountRange=t,this.rangeSelection=r},e.prototype.clearFilter=function(){this.rangeSelection="",this.selectedYear=[],this.minAmountRange=void 0,this.maxAmountRange=void 0,this.selectedValue=void 0,this.tableItems=X(this.tempData)},e.prototype.resetPlaceholder=function(e){e.placeholder=""},e}();K.decorators=[{type:r.Component,args:[{selector:"lib-lib-profitloss",template:'<div  [ngClass]="{\'button-align\' : filterJson?.showFiltering, \'button-end\' : !filterJson?.showFiltering}">\r\n    <div class="filter-holder" *ngIf="filterJson?.showFiltering">\r\n        <button class="filter-button" mat-stroked-button [matMenuTriggerFor]="menu">Filter\r\n            <mat-icon class="filter-icon">filter_list</mat-icon>\r\n        </button>\r\n        <mat-menu [class]="\'filter-menu-layout\'" #menu="matMenu">\r\n            <div class="title-container">\r\n                <p class="panel-title">Filter By</p>\r\n            </div>\r\n            <div class="hide-holder horizontal-gap" *ngIf="filterJson?.hideShowFiltering">\r\n                <div class="hide-filter-text-holder">\r\n                    <p class="hide-show-text">Hide/Show</p>\r\n                </div>\r\n                <mat-divider [vertical]="true"></mat-divider>\r\n                <div id="yearCheckbox" class="filter-boxes" (click)="$event.stopPropagation()">\r\n                    <mat-checkbox *ngFor="let yearNames of rowHeader;let yearIndex = index;"\r\n                        [checked]="selectedYear.includes(sampleRow[yearIndex])" class="move-checkbox"\r\n                        (change)="valueChange(yearNames,$event, yearIndex)" [ngStyle]="{\'color\': \'#75003\'}">\r\n                        {{ yearNames }}\r\n                    </mat-checkbox>\r\n                </div>\r\n            </div>\r\n            <mat-divider class="horizontal-gap" *ngIf="filterJson?.hideShowFiltering"></mat-divider>\r\n            <div class="hide-holder horizontal-gap" *ngIf="filterJson?.rangeFiltering">\r\n                <div class="hide-filter-text-holder">\r\n                    <p class="hide-show-text">Range</p>\r\n                </div>\r\n                <mat-divider [vertical]="true"></mat-divider>\r\n    \r\n                <div (click)="$event.stopPropagation()">\r\n                    <div class="filter-input">\r\n                        <label class="label-text">Choose Year to Filter by Range</label>\r\n                        <mat-form-field class="input_type_wrap">\r\n                            <mat-select #select [(ngModel)]="selectedValue" (opened)="resetPlaceholder(select)"\r\n                                floatLabel="never">\r\n                                <mat-option [disabled]="selectedYear.includes(sampleRow[dropIndex])"\r\n                                    *ngFor="let yearNames of rowHeader;let dropIndex = index;"\r\n                                    [value]="sampleRow[dropIndex]">\r\n                                    {{yearNames}}\r\n                                </mat-option>\r\n                            </mat-select>\r\n                            <button class="reset-drop" mat-button matSuffix *ngIf="selectedValue" mat-icon-button\r\n                                aria-label="Clear" (click)="resetDropdown($event)">\r\n                                <mat-icon matTooltip="Reset">close</mat-icon>\r\n                            </button>\r\n                        </mat-form-field>\r\n                    </div>\r\n                    <div id="rangeFilter" class="slider-padding"\r\n                        [matTooltip]="selectedValue == undefined ? \'Choose a year in dropdown to filter by range\' : \'\'"\r\n                        matTooltipPosition="above">\r\n                        <button class="range-button" [disabled]="selectedValue == undefined"\r\n                            [ngClass]="{\'filtered-button\' : buttonLoop.range == rangeSelection}" mat-stroked-button\r\n                            *ngFor="let buttonLoop of priceRangeData"\r\n                            (click)="priceFilter(buttonLoop.min,buttonLoop.max, buttonLoop.range)">{{buttonLoop.range}}</button>\r\n                    </div>\r\n    \r\n                </div>\r\n            </div>\r\n            <mat-divider class="horizontal-gap" *ngIf="filterJson?.rangeFiltering"></mat-divider>\r\n            <div>\r\n                <button mat-button color="warn" (click)="clearFilter()"\r\n                    [disabled]="!selectedYear.length > 0 && selectedValue == undefined">Clear all filters</button>\r\n            </div>\r\n    \r\n        </mat-menu>\r\n    </div>\r\n    \r\n    <div class="filter-holder">\r\n        <button class="filter-button" mat-stroked-button (click)="exportData()">Export\r\n            <mat-icon class="filter-icon">file_download</mat-icon>\r\n        </button>\r\n    </div>\r\n</div>\r\n\r\n\r\n<div class="table-container" [ngClass]="{\'table-height\': stickHeader}">\r\n    <table class="table-size"\r\n        [ngClass]="{ \'sticky-first\' : isFirstSticky , \'non-sticky\' : !isFirstSticky ,  \'sticky-last\': isLastSticky}"\r\n        cellspacing="0" cellpadding="5">\r\n        <thead class="header-align row-text-design" [ngClass]="{\'header-stick\': stickHeader}" id="head-item">\r\n            <th resize id="resizeHeader" *ngIf="resizeColumn" class="category-design"> Category\r\n                <span *ngIf="filterJson?.showSorting" [appSort]="tableItems" data-order="desc" data-name="name"\r\n                    class="sort-icon" (sortDetailsEvent)="getSortOrderDetails($event)">\r\n                    <mat-icon *ngIf="(orderType == \'\' || columnName !== \'name\')" class="hide icon-design">sort\r\n                    </mat-icon>\r\n                    <ng-container *ngIf="columnName == \'name\'">\r\n                        <mat-icon *ngIf="(orderType == \'desc\' && columnName == \'name\')" class="icon-design"\r\n                            title="High to Low">south</mat-icon>\r\n                        <mat-icon *ngIf="(orderType == \'asc\' && columnName == \'name\')" class="icon-design"\r\n                            title="Low to High">north</mat-icon>\r\n                        <mat-icon\r\n                            *ngIf="((orderType == \'asc\' && columnName == \'name\') || (orderType == \'desc\' && columnName == \'name\'))"\r\n                            class="close icon-design" (click)="restFilter()" title="Reset Filter">close</mat-icon>\r\n                    </ng-container>\r\n                </span>\r\n            </th>\r\n            <th *ngIf="!resizeColumn" class="category-design"> Category\r\n                <span *ngIf="filterJson?.showSorting" [appSort]="tableItems" data-order="desc" data-name="name"\r\n                    class="sort-icon" (sortDetailsEvent)="getSortOrderDetails($event)">\r\n                    <mat-icon *ngIf="(orderType == \'\' || columnName !== \'name\')" class="hide icon-design">sort\r\n                    </mat-icon>\r\n                    <ng-container *ngIf="columnName == \'name\'">\r\n                        <mat-icon *ngIf="(orderType == \'desc\' && columnName == \'name\')" class="icon-design"\r\n                            title="High to Low">south</mat-icon>\r\n                        <mat-icon *ngIf="(orderType == \'asc\' && columnName == \'name\')" class="icon-design"\r\n                            title="Low to High">north</mat-icon>\r\n                        <mat-icon\r\n                            *ngIf="((orderType == \'asc\' && columnName == \'name\') || (orderType == \'desc\' && columnName == \'name\'))"\r\n                            class="close icon-design" (click)="restFilter()" title="Reset Filter">close</mat-icon>\r\n                    </ng-container>\r\n                </span>\r\n            </th>\r\n            <ng-container *ngFor="let yearHeader of rowHeader;let i = index;">\r\n                <ng-container *ngIf="!resizeColumn">\r\n                    <th *ngIf="!selectedYear.includes(sampleRow[i])"> {{yearHeader}}\r\n                        <span *ngIf="filterJson?.showSorting" [appSort]="tableItems" data-order="desc"\r\n                            [attr.data-name]="sampleRow[i]" class="sort-icon"\r\n                            (sortDetailsEvent)="getSortOrderDetails($event)">\r\n                            <mat-icon *ngIf="(orderType == \'\' || columnName !== sampleRow[i])" class="hide icon-design">\r\n                                sort</mat-icon>\r\n                            <ng-container *ngIf="columnName == sampleRow[i]">\r\n                                <mat-icon *ngIf="(orderType == \'desc\' && columnName == sampleRow[i])"\r\n                                    class="icon-design" title="High to Low">south</mat-icon>\r\n                                <mat-icon *ngIf="(orderType == \'asc\' && columnName == sampleRow[i])" class="icon-design"\r\n                                    title="Low to High">north</mat-icon>\r\n                                <mat-icon\r\n                                    *ngIf="((orderType == \'asc\' && columnName == sampleRow[i]) || (orderType == \'desc\' && columnName == sampleRow[i]))"\r\n                                    class="close icon-design" (click)="restFilter()" title="Reset Filter">close\r\n                                </mat-icon>\r\n                            </ng-container>\r\n                        </span>\r\n                    </th>\r\n                </ng-container>\r\n                <ng-container *ngIf="resizeColumn">\r\n                    <th resize id="resizeHeader" *ngIf="!selectedYear.includes(sampleRow[i])"> {{yearHeader}}\r\n                        <span *ngIf="filterJson?.showSorting" [appSort]="tableItems" data-order="desc"\r\n                            [attr.data-name]="sampleRow[i]" class="sort-icon"\r\n                            (sortDetailsEvent)="getSortOrderDetails($event)">\r\n                            <mat-icon *ngIf="(orderType == \'\' || columnName !== sampleRow[i])" class="hide icon-design">\r\n                                sort</mat-icon>\r\n                            <ng-container *ngIf="columnName == sampleRow[i]">\r\n                                <mat-icon *ngIf="(orderType == \'desc\' && columnName == sampleRow[i])"\r\n                                    class="icon-design" title="High to Low">south</mat-icon>\r\n                                <mat-icon *ngIf="(orderType == \'asc\' && columnName == sampleRow[i])" class="icon-design"\r\n                                    title="Low to High">north</mat-icon>\r\n                                <mat-icon\r\n                                    *ngIf="((orderType == \'asc\' && columnName == sampleRow[i]) || (orderType == \'desc\' && columnName == sampleRow[i]))"\r\n                                    class="close icon-design" (click)="restFilter()" title="Reset Filter">close\r\n                                </mat-icon>\r\n                            </ng-container>\r\n                        </span>\r\n                    </th>\r\n                </ng-container>\r\n            </ng-container>\r\n            <th>Total</th>\r\n        </thead>\r\n        <ng-container *ngTemplateOutlet="recursiveListTmpl; context:{ list: tableItems }"></ng-container>\r\n\r\n        <ng-container *ngFor="let lastData of lastRowData;let i = index;">\r\n            <tr id="lastRow" class="row-text-design">\r\n                <td>\r\n                    {{lastData.name}}\r\n                </td>\r\n\r\n                <ng-container *ngFor="let parentYears of duration">\r\n                    <td *ngIf="!selectedYear.includes(\'y\'+parentYears) "> {{lastData[\'y\'+parentYears]}} </td>\r\n                </ng-container>\r\n                <td> {{lastData.total}} </td>\r\n            </tr>\r\n        </ng-container>\r\n    </table>\r\n\r\n    <ng-template #recursiveListTmpl let-itemLoop="list">\r\n        <ng-container *ngFor="let item of itemLoop | priceRange : selectedValue : minAmountRange : maxAmountRange">\r\n            <tr id="recursiveContainer" (click)="expandRow(item)" [ngClass]="{\'sub-items-holder\' : item.index >= 3}">\r\n                <td  [ngClass]="{\'sub-items-holder\' : item.index >= 3}"\r\n                    [style.padding-left]="item.index*20+\'px\'"> <mat-checkbox *ngIf="filterJson?.rowSelection"\r\n                    (click)="resetClick()" \r\n                    (change)="exportSelect(item, $event.checked)"\r\n                    [indeterminate]="someComplete(item)"\r\n                    [checked]="item.checked"\r\n                    [ngStyle]="{\'color\': \'#75003\'}" class="select-row"></mat-checkbox>\r\n                    <span class="more-less-icon"\r\n                        *ngIf="item?.subitems?.length > 0">{{ item.expansion ? \'⚊\' : \'✚\'}}</span> {{ item.name }} </td>\r\n                <ng-container *ngFor="let parentYears of duration">\r\n                    <td  class="data-edit"\r\n                        [ngClass]="{\'edit-hover\' : editFields, \'sub-items-holder\' : item.index >= 3}"\r\n                        *ngIf="!selectedYear.includes(\'y\'+parentYears) ">\r\n                        <mat-form-field>\r\n                            <input matInput (click)="resetClick()" [(ngModel)]="item[\'y\'+parentYears]"\r\n                                (focus)="stopFocus()"\r\n                                (input)="onSearchChange($event.target.value, item[\'y\'+parentYears])"\r\n                                [disabled]="((clickedYear !== \'y\'+parentYears) || (item.name !== clickedName))"\r\n                                [value]="item[\'y\'+parentYears]">\r\n                        </mat-form-field>\r\n                        <ng-container *ngIf="editFields">\r\n                            <mat-icon *ngIf="((clickedYear !== \'y\'+parentYears) || (item.name !== clickedName))"\r\n                                class="icon-design edit-icon"\r\n                                (click)="editData(item[\'y\'+parentYears],item,parentYears,item.name)">edit</mat-icon>\r\n                        </ng-container>\r\n                        <mat-icon *ngIf="!((clickedYear !== \'y\'+parentYears) || (item.name !== clickedName))"\r\n                            class="icon-design save-icon" title="Save" (click)="modifyData(item,parentYears)">check\r\n                        </mat-icon>\r\n                        <mat-icon *ngIf="!((clickedYear !== \'y\'+parentYears) || (item.name !== clickedName))"\r\n                            class="icon-design close-icon" title="close" (click)="closeEdit(item,parentYears)">close\r\n                        </mat-icon>\r\n                    </td>\r\n                </ng-container>\r\n                <td>{{item.total}}</td>\r\n            </tr>\r\n            <ng-container *ngIf="item.expansion" id="child">\r\n                <ng-container *ngTemplateOutlet="recursiveListTmpl; context:{ list: item?.subitems }"></ng-container>\r\n            </ng-container>\r\n        </ng-container>\r\n        \x3c!-- <div *ngIf="(itemLoop | priceRange : selectedValue : minAmountRange : maxAmountRange).length === 0" \r\n               class="no-data">No Item Matches your Filter...</div> --\x3e\r\n    </ng-template>\r\n</div>',encapsulation:r.ViewEncapsulation.None,styles:["tr>td:last-of-type{background-color:#e6dcff;padding-left:1rem}tr:not(:last-child){cursor:pointer;box-shadow:0 1px 1px -2px rgba(0,0,0,.2),0 1px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);height:4.75rem;background-color:#fff}.table-container{overflow:auto;width:100%;width:95%;margin:2rem 2rem 0}table{table-layout:fixed;width:100%}.sticky-first td:first-child,.sticky-first th:first-child{position:sticky;left:0;z-index:2;background-color:#fff;box-shadow:0 1px 1px -2px rgba(0,0,0,.2),0 1px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);width:250px}.non-sticky td:first-child,.non-sticky th:first-child{width:250px}.sticky-last td:last-child,.sticky-last th:last-child{position:sticky;right:0;z-index:2;box-shadow:0 1px 1px -2px rgba(0,0,0,.2),0 1px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);width:250px}.sticky-last th:last-child{background-color:#460073}th:last-child{padding-left:1rem}thead tr th{position:sticky;top:0}tr:last-child{background-color:#e6dcff;height:4.75rem}tr:last-child td{background-color:#e6dcff;font-weight:600;font-size:1.2rem}tr:last-child td:last-child{background-color:#7500c0;color:#fff;font-weight:600;font-size:1.2rem;padding-left:1rem}.header-align{text-align:left;background:#460073;color:#fff;height:3.75rem}#lastRow td:first-child{background-color:#e6dcff}#head-item .category-design{background:#460073;padding:1rem}.more-less-icon{color:#004dff}#recursiveContainer .sub-items-holder{background-color:#e6e6dc}.table-size{width:100%;position:relative}.row-text-design td{color:#000;font-size:1.08rem;font-weight:400}.row-text-design th{font-size:1.08rem;font-weight:600}.row-text-design td:not(:first-child),.row-text-design th:not(:first-child){width:150px}td:nth-child(2),th:nth-child(2){padding-left:1.2rem}tr td:first-child{padding:1rem}tr td:last-child{font-weight:400}.close{font-size:.85rem}#head-item .hide,.close{font-style:normal;cursor:pointer}#head-item .hide{display:none;margin-left:10px}#head-item .sort-icon{display:inline-block;width:5rem;height:.75rem}#head-item .sort-icon:hover>.hide{display:block;cursor:pointer}#recursiveContainer .data-edit:hover>.edit-icon{display:inline-block}#recursiveContainer .edit-icon{display:none;color:#7500c0}.save-icon{color:#09cc09}.close-icon{color:#be0101}.icon-design{font-size:16px;position:relative;top:2px;cursor:pointer}th#resizeHeader:hover{background-color:#7500c0}th:hover .hide{display:block;cursor:pointer}.data-edit mat-form-field{width:100px}.mat-form-field-disabled .mat-form-field-underline{display:none}.mat-form-field-type-mat-native-select.mat-form-field-disabled .mat-form-field-infix:after,.mat-input-element:disabled{color:#000}.header-stick{position:sticky;top:0;z-index:5}.table-height{height:350px}.edit-hover:hover{border:1px solid #7500c0}.button-align{display:flex;justify-content:space-between}.button-end{display:flex;justify-content:end}.filter-boxes{display:flex;margin:1rem;flex-wrap:wrap}.filter-boxes .mat-checkbox-frame{border-color:#7500c0}.mat-checkbox-checked.mat-accent .mat-checkbox-ripple .mat-ripple-element{opacity:.03;background-color:#7500c0}.mat-checkbox-checked.mat-accent .mat-checkbox-background,.mat-checkbox-indeterminate.mat-accent .mat-checkbox-background{background-color:#7500c0}.filter-holder{margin:2rem}.filter-holder .filter-button{border-radius:0}.filter-holder .filter-icon{color:#7500c0;font-size:22px;margin-left:.75rem}.mat-menu-panel.filter-menu-layout{max-width:33rem;border-radius:0}.move-checkbox{margin-left:1rem}.hide-holder{display:flex}.hide-holder .hide-filter-text-holder{display:flex;align-items:center;margin:1rem;min-width:8rem;justify-content:center}.hide-holder .hide-filter-text-holder .hide-show-text{font-weight:400;color:#6c6c6c}.horizontal-gap{margin-bottom:.5rem;margin-top:.5rem}.slider-padding{margin:1rem;display:flex;flex-wrap:wrap}.slider-padding .slider-gap{margin-left:1rem}#rangeFilter .range-button{border-radius:0;min-width:5rem;width:8rem;margin-left:10px;margin-bottom:10px}.filtered-button{background-color:#7500c0;color:#fff}.panel-title{font-size:1rem;color:#000;font-weight:500}.title-container{padding:1rem 1rem 0;border-bottom:4px solid #a100ff}.input_type_wrap .mat-form-field-flex{background:#fff 0 0 no-repeat padding-box;color:#000;border-radius:0;box-shadow:0 1px 5px rgba(158,164,186,.2);padding:0}.input_type_wrap .mat-form-field-infix{padding-top:0;padding-bottom:0}.input_type_wrap .mat-form-field-underline{display:none}.input_type_wrap .mat-select-value{padding-left:1rem;padding-bottom:.5rem}.input_type_wrap .mat-select-arrow{margin-bottom:.5rem!important}.input_type_wrap mat-form-field{width:150px!important}.filter-input{display:inline-flex;justify-content:center;flex-direction:column;align-items:center;margin-left:1.5rem}.label-text{color:#000;font-weight:500;margin-bottom:.25rem}.reset-drop mat-icon{margin-bottom:3px}th:first-child .wrapper .bar{margin-right:-16px}.no-data{display:flex;justify-content:center;min-width:65rem;padding:2rem 2rem 2rem 3rem;font-size:1.2rem}.select-row{margin-right:.5rem}"]}]}],K.ctorParameters=function(){return[{type:G}]},K.propDecorators={tableItems:[{type:r.Input}],numberOfDuration:[{type:r.Input}],headerName:[{type:r.Input}],lastRowData:[{type:r.Input}],isFirstSticky:[{type:r.Input}],isLastSticky:[{type:r.Input}],editFields:[{type:r.Input}],stickHeader:[{type:r.Input}],filterJson:[{type:r.Input}],resizeColumn:[{type:r.Input}],notifyDataChange:[{type:r.Output}],priceRangeData:[{type:r.Input}]};var W=function(){function e(){this.sortOrder=1,this.collator=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"})}return e.prototype.startSort=function(e,t,r){var n=this;return void 0===r&&(r=""),"desc"===t&&(this.sortOrder=-1),function(r,a){return r.hasOwnProperty("subitems")&&n.recursiveSort(r.subitems,e,t),a.hasOwnProperty("subitems")&&n.recursiveSort(r.subitems,e,t),n.collator.compare(r[e],a[e])*n.sortOrder}},e.prototype.recursiveSort=function(e,t,r){var n=this;"asc"==r?e.sort((function(e,r){return e[t]-r[t]})):e.sort((function(e,r){return r[t]-e[t]})),e.length>0&&e.map((function(e){e.hasOwnProperty("subitems")&&n.recursiveSort(e.subitems,t,r)}))},e}(),Q=function(){function e(e,t){this.renderer=e,this.targetElem=t,this.sortDetailsEvent=new r.EventEmitter}return e.prototype.sortData=function(){var e=new W,t=this.targetElem.nativeElement,r=t.getAttribute("data-order"),n=t.getAttribute("data-type"),a=t.getAttribute("data-name");"desc"===r?(this.appSort.sort(e.startSort(a,r,n)),t.setAttribute("data-order","asc")):(this.appSort.sort(e.startSort(a,r,n)),t.setAttribute("data-order","desc")),console.log(a,r,n),this.sortDetailsEvent.emit({property:a,order:r,type:n})},e}();Q.decorators=[{type:r.Directive,args:[{selector:"[appSort]"}]}],Q.ctorParameters=function(){return[{type:r.Renderer2},{type:r.ElementRef}]},Q.propDecorators={appSort:[{type:r.Input}],sortDetailsEvent:[{type:r.Output}],sortData:[{type:r.HostListener,args:["click"]}]};var Z=[s.CdkTableModule,l.MatAutocompleteModule,c.MatBadgeModule,d.MatBottomSheetModule,m.MatButtonModule,u.MatButtonToggleModule,p.MatCardModule,g.MatCheckboxModule,h.MatChipsModule,q.MatStepperModule,b.MatDatepickerModule,y.MatDialogModule,v.MatDividerModule,x.MatExpansionModule,k.MatGridListModule,I.MatIconModule,S.MatInputModule,M.MatListModule,R.MatMenuModule,f.MatNativeDateModule,D.MatPaginatorModule,N.MatProgressBarModule,C.MatProgressSpinnerModule,F.MatRadioModule,T.MatSelectModule,f.MatRippleModule,T.MatSelectModule,P.MatSidenavModule,L.MatSliderModule,E.MatSlideToggleModule,O.MatSnackBarModule,Y.MatSortModule,z.MatTableModule,j.MatTabsModule,V.MatToolbarModule,A.MatTooltipModule,w.MatFormFieldModule,N.MatProgressBarModule],ee=function(){};ee.decorators=[{type:r.NgModule,args:[{imports:[Z],exports:[Z],providers:[{provide:O.MAT_SNACK_BAR_DEFAULT_OPTIONS,useValue:{verticalPosition:"top",horizontalPosition:"left"}}]}]}];var te=function(){function e(){this.searchedItems=[]}return e.prototype.transform=function(e,t,r,n,a){if(void 0===a&&(a=!1),void 0!==r&&void 0!==n&&void 0!==t){if("string"!=typeof n){console.log(t,r,n);return e.filter((function(e){return Number(e[t])>=r&&Number(e[t])<n}))}return e.filter((function(e){return Number(e[t])>=r}))}return e},e.prototype.searchRecursive=function(e){for(var t=0;t<e.length;t++)Number(e[t][this.prop])>=Number(this.key)?this.searchedItems.push(e[t]):e[t][this.childrenPropName]&&e[t][this.childrenPropName].length>0&&this.searchRecursive(e[t][this.childrenPropName]);return this.searchedItems},e}();te.decorators=[{type:r.Pipe,args:[{name:"priceRange"}]}];var re=function(){function e(){this.width=null}return e.prototype.onResize=function(e){void 0!==this.className&&"category-design"==this.className?this.width=e<=250?250:e:this.width=e<=150?150:e},e.prototype.getClassData=function(e){this.className=e.classIdentifier},e}();re.decorators=[{type:r.Component,args:[{selector:"th[resize]",template:'<div class="wrapper">\r\n\t<div class="content">\r\n\t\t<ng-content></ng-content>\r\n\t</div>\r\n\t<div class="bar" (resize)="onResize($event)" (expansionDetails)="getClassData($event)"></div>\r\n</div>',styles:[".wrapper{display:flex;justify-content:flex-end}.content{flex:1}.bar{position:absolute;top:0;bottom:0;width:2px;height:60px;margin-right:-8px;justify-self:flex-end;border-left:2px solid transparent;border-right:2px solid transparent;background-clip:content-box;cursor:ew-resize;opacity:0;transition:opacity .3s}.bar:active,.bar:hover{opacity:1}"]}]}],re.propDecorators={width:[{type:r.HostBinding,args:["style.width.px"]}]};var ne=function(e,t){var n=this;this.elementRef=t,this.expansionDetails=new r.EventEmitter,this.resize=_.fromEvent(this.elementRef.nativeElement,"mousedown").pipe(H.tap((function(e){return e.preventDefault()})),H.switchMap((function(){var e=n.elementRef.nativeElement.closest("th").getBoundingClientRect(),t=e.width,r=e.right;return console.log("right",n.elementRef.nativeElement.closest("th").classList),n.expansionDetails.emit({classIdentifier:n.elementRef.nativeElement.closest("th").classList[0]}),_.fromEvent(n._document,"mousemove").pipe(H.map((function(e){var n=e.clientX;return t+n-r})),H.distinctUntilChanged(),H.takeUntil(_.fromEvent(n._document,"mouseup")))}))),this._document=e};ne.decorators=[{type:r.Directive,args:[{selector:"[resize]"}]}],ne.ctorParameters=function(){return[{type:void 0,decorators:[{type:r.Inject,args:[t.DOCUMENT]}]},{type:r.ElementRef,decorators:[{type:r.Inject,args:[r.ElementRef]}]}]},ne.propDecorators={expansionDetails:[{type:r.Output}],resize:[{type:r.Output}]};var ae=function(){};ae.decorators=[{type:r.NgModule,args:[{declarations:[re,ne],exports:[re]}]}];var ie=function(){};ie.decorators=[{type:r.NgModule,args:[{declarations:[U,K,Q,te],imports:[i.BrowserModule,t.CommonModule,o.FormsModule,ee,ae],providers:[t.DatePipe],exports:[U,K]}]}],e.LibProfitlossComponent=K,e.NewLibDemoComponent=U,e.NewLibDemoModule=ie,e.NewLibDemoService=G,e.SortDirective=Q,e.ɵa=te,e.ɵb=ee,e.ɵc=ae,e.ɵd=re,e.ɵe=ne,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=new-lib-demo.umd.min.js.map